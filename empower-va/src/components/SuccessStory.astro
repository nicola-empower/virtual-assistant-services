---
import { ArrowRight } from "lucide-react";
import { Image } from "astro:assets";
import successImage from "../assets/success-story.png";
---

<section class="py-24 bg-slate-50">
    <div class="max-w-4xl mx-auto px-6">
        <div
            id="success-card"
            class="bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100 transform translate-y-20 opacity-0 transition-all duration-1000 ease-out"
        >
            <div class="flex flex-col md:flex-row">
                {/* Image Section */}
                <div
                    class="w-full md:w-2/5 relative h-64 md:h-auto bg-slate-100 flex items-center justify-center p-6"
                >
                    <Image
                        src={successImage}
                        alt="Dead or Alive Technology Logo"
                        class="max-w-full h-auto object-contain drop-shadow-md"
                        width={400}
                        loading="lazy"
                    />
                </div>

                {/* Content Section */}
                <div
                    class="w-full md:w-3/5 p-8 md:p-12 flex flex-col justify-center"
                >
                    <div
                        class="uppercase tracking-wide text-sm text-teal-600 font-bold mb-2"
                    >
                        Success Story
                    </div>
                    <h2
                        class="text-3xl font-extrabold text-slate-900 mb-4 leading-tight"
                    >
                        Empowering a Local Tech Hub
                    </h2>
                    <p class="text-slate-600 mb-8 leading-relaxed">
                        Discover how we helped <span
                            class="font-bold text-slate-800"
                            >Dead or Alive Technology</span
                        > in Wishaw streamline their operations, manage inventory,
                        and reclaim their time to focus on what they do best; expert
                        repairs.
                    </p>

                    <a
                        href="/edge/wishaw"
                        class="inline-flex items-center gap-2 bg-slate-900 text-white px-6 py-3.5 rounded-xl font-bold hover:bg-slate-800 transition-colors w-fit group shadow-lg shadow-slate-200"
                    >
                        Read Case Study <ArrowRight
                            className="w-4 h-4 group-hover:translate-x-1 transition-transform"
                        />
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.remove(
                        "translate-y-20",
                        "opacity-0",
                    );
                    observer.unobserve(entry.target);
                }
            });
        },
        {
            threshold: 0.2,
        },
    );

    const card = document.getElementById("success-card");
    if (card) observer.observe(card);
</script>
